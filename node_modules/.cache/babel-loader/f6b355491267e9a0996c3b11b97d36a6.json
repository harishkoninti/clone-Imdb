{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\haris\\\\Documents\\\\clone-Imdb\\\\src\\\\components\\\\FilmCast.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport FilmFullCast from './FilmFullCast';\nexport default function FilmCast(props) {\n  const [filmCast, setFilmCast] = useState([]);\n  const [filmDirector, setFilmDirector] = useState([]);\n  const [filmWriter, setFilmWriter] = useState([]);\n  const [filmStars, setFilmStars] = useState([]);\n  const [getDetails, setGetDetails] = useState(false);\n  const [isButtonClicked, setButtonClicked] = useState(false);\n  useEffect(() => {\n    if (filmCast.length === 0) {\n      getData();\n    }\n    //if movie changed\n    if (parseInt(filmCast.id) !== parseInt(props.id)) {\n      getData();\n    }\n    //if we got movie data absolutely\n    if (getDetails) {\n      getCrew();\n      setGetDetails(false);\n    }\n  });\n  const getData = async () => {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${props.id}/credits?api_key=ee5e74e39e7bb0a1514fd8909bbd92f8`);\n    setFilmCast(data.data);\n    setGetDetails(true);\n  };\n  const getCrew = () => {\n    const stars = [];\n    const directors = [];\n    const writers = [];\n    filmCast.crew.map(person => {\n      if (person.job === \"Director\") return directors.push(person.name);\n      if (person.job === \"Screenplay\" || person.job === \"Writer\") return writers.push(person.name);\n      return true;\n    });\n    filmCast.cast.map(person => {\n      return stars.push(person.name);\n    });\n    setFilmDirector(directors);\n    setFilmWriter(writers);\n    setFilmStars(stars.splice(0, 3));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"film-cast-short\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"director\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Director: \"), filmDirector.join(\", \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"writers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Writers: \"), filmWriter.join(\", \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"stars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Stars: \"), filmStars.join(\", \")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"see-all-cast\",\n    onClick: () => {\n      setButtonClicked(!isButtonClicked);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, isButtonClicked ? `Hide All Cast` : `See All Cast`, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-angle-double-right\",\n    style: {\n      color: \"grey\",\n      fontSize: \"10pt\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 74\n    }\n  })), isButtonClicked ? /*#__PURE__*/React.createElement(FilmFullCast, {\n    cast: filmCast,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }) : \"\");\n}","map":{"version":3,"names":["React","useEffect","useState","axios","FilmFullCast","FilmCast","props","filmCast","setFilmCast","filmDirector","setFilmDirector","filmWriter","setFilmWriter","filmStars","setFilmStars","getDetails","setGetDetails","isButtonClicked","setButtonClicked","length","getData","parseInt","id","getCrew","data","get","stars","directors","writers","crew","map","person","job","push","name","cast","splice","fontWeight","join","color","fontSize"],"sources":["C:/Users/haris/Documents/clone-Imdb/src/components/FilmCast.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport FilmFullCast from './FilmFullCast'\r\n\r\nexport default function FilmCast(props) {\r\n\r\n    const [filmCast, setFilmCast] = useState([])\r\n    const [filmDirector, setFilmDirector] = useState([])\r\n    const [filmWriter, setFilmWriter] = useState([])\r\n    const [filmStars, setFilmStars] = useState([])\r\n    const [getDetails, setGetDetails] = useState(false)\r\n    const [isButtonClicked, setButtonClicked] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(filmCast.length === 0){\r\n            getData()\r\n        }\r\n        //if movie changed\r\n        if(parseInt(filmCast.id) !== parseInt(props.id)){\r\n            getData()\r\n        }\r\n        //if we got movie data absolutely\r\n        if(getDetails){\r\n            getCrew()\r\n            setGetDetails(false)\r\n        }\r\n    })\r\n\r\n    const getData = async () => {\r\n        const data = await axios.get(`https://api.themoviedb.org/3/movie/${props.id}/credits?api_key=ee5e74e39e7bb0a1514fd8909bbd92f8`)\r\n        setFilmCast(data.data)\r\n        setGetDetails(true)\r\n    }\r\n\r\n    const getCrew = () => {\r\n        const stars = []\r\n        const directors = []\r\n        const writers = []\r\n\r\n        filmCast.crew.map(person => {\r\n            if(person.job === \"Director\")\r\n                return directors.push(person.name)\r\n            if(person.job === \"Screenplay\" || person.job === \"Writer\")\r\n                return writers.push(person.name)\r\n            return true;\r\n        })\r\n        filmCast.cast.map(person => {\r\n            return stars.push(person.name)\r\n        })\r\n        setFilmDirector(directors)\r\n        setFilmWriter(writers)\r\n        setFilmStars(stars.splice(0,3))\r\n    }\r\n\r\n    return (\r\n        <div className=\"film-cast-short\">\r\n            <div className=\"director\">\r\n                <span style={{fontWeight: \"bold\"}}>Director: </span>\r\n                {filmDirector.join(\", \")}\r\n            </div>\r\n            <div className=\"writers\">\r\n                <span style={{fontWeight: \"bold\"}}>Writers: </span>\r\n                {filmWriter.join(\", \")}\r\n            </div>\r\n            <div className=\"stars\">\r\n                <span style={{fontWeight: \"bold\"}}>Stars: </span>\r\n                {filmStars.join(\", \")}\r\n            </div>\r\n            <span className=\"see-all-cast\" onClick={() => {setButtonClicked(!isButtonClicked)}}>\r\n                    {isButtonClicked ? `Hide All Cast` : `See All Cast`} <i className=\"fas fa-angle-double-right\" style={{color: \"grey\", fontSize:\"10pt\"}}></i>\r\n            </span>\r\n            {\r\n                isButtonClicked ? \r\n                    <FilmFullCast cast={filmCast}/>\r\n                    :\r\n                    \"\"\r\n            }\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}